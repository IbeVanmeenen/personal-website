<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Ibe Vanmeenen</title>

    <meta name="description" content="Ibe Vanmeenen Front-End Developer">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="../../dist/css/style.min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora">
</head>
<body>
    <header class="page-header">
        <a href="/" class="page-header__link">
            <h1 class="page-header__head">
                Ibe Vanmeenen
            </h1>
            <h4 class="page-header__head page-header__head--sub">
                Web developer
            </h4>
        </a>
    </header>

    <main role="main" class="content">
        <article>
            <section class="content__section">
                <header>
                    <h1 class="content__section__head content__section__head--top">
                        Flexslider: url-targeting
                    </h1>
                </header>

                <p>
                    Sliders... we all hate them. But they remain a frequently requested thingy.
                    <a href="http://www.woothemes.com/flexslider/" target="_blank">Flexslider</a> is still my favorite choice as it comes to slider-plugins.
                    In this article I will explain a useful snippit to 'extend' your sliders functionality. That is: url-targeting.
                </p>
            </section>

            <section class="content__section">
                <header>
                    <h2 class="content__section__head content__section__head--left">
                        Url targeting
                    </h2>
                </header>

                <p>
                    Sometimes it's useful that you can tell trough the url wich slide of the slider should be active. In the following example, we can append a '#slide2' to the url, and the Flexslider will start at the second slide.
                </p>

                <h3 class="content__section__head content__section__head--sub">
                    Get the current url
                </h3>

                <p>
                    First, you'll need to get the current url.
                    You can use 'document.URL' for that. I prefer this one above 'window.location.href' because you only need to get the url (not set it). It's about 91% faster than window.location.href (<a href="http://jsperf.com/document-url-vs-window-location-href" target="_blank">jsperf test</a>).
                    The url will be stored in the variable 'loc'.
                </p>

<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL;
};
</code>
</pre>

                <h3 class="content__section__head content__section__head--sub">
                    Filter out the slide-number
                </h3>

                <p>
                    Now you need to filter out the slide-number in the url you just retrieved. You will remove everything before the last occuring '#', including the '#' itself. You also want to remove the text 'slide'. The resulting number will be stored in the variable 'idx'.
                </p>

<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL,
        idx = 1;

    if(loc.lastIndexOf('#') !== -1) {
        idx = loc.substr(loc.lastIndexOf('#') + 1).replace('slide', '');
    }
};
</code>
</pre>

                <h3 class="content__section__head content__section__head--sub">
                    Check if the value is a number
                </h3>

                <p>
                    Let's be sure that the retrieved number is an legal number. You do this with the 'isNaN' function (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN" target="_blank">more about isNaN()</a>). In the future this will be replaced by the 'Number.isNaN()' function. But the support for this new function is not quite there yet (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN?redirectlocale=en-US&am;redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FNumber%2FisNaN#Browser_compatibility" target="_blank">more about Number.isNaN()</a>).
                </p>

<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL,
        idx = 1;

    if(loc.lastIndexOf('#') !== -1) {
        idx = loc.substr(loc.lastIndexOf('#') + 1).replace('slide', '');
    }
    if (isNaN(idx - 0)) {
        idx = 1;
    }
};
</code>
</pre>

                <h3 class="content__section__head content__section__head--sub">
                    Initialize the slider
                </h3>

                <p>
                    Now you need to initialize the Flexslider and tell it at which slide he should start at.
                    Flexslider provides you with the 'startAt' property to set the starting slide.
                    Because the first slide has the value 0, you do -1 of the value we got from the url.
                </p>

<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL,
        idx = 1;

    if(loc.lastIndexOf('#') !== -1) {
        idx = loc.substr(loc.lastIndexOf('#') + 1).replace('slide', '');
    }
    if (isNaN(idx - 0)) {
        idx = 1;
    }

    idx -= 1;

    $('#slider').flexslider({
        startAt: idx
    });
};
</code>
</pre>
            </section>
        </article>
    </main>

    <script src="/app/js/prism.js" defer></script>
</body>
</html>
