<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Ibe Vanmeenen | Flexslider: url-targeting</title>

    <meta name="description" content="Flexslider: url-targeting">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../build/css/style.css" type="text/css">

</head>
<body>
    <main role="main">
        <article class="main-article">
            <figure class="main-article__splash main-article__splash--js"></figure>
            <header class="center-container main-article__header">
                <h1 class="main-article__header__head">Flexslider: url-targeting</h1>
                <h2 class="main-article__header__sub">Useful additions to Flexslider</h2>
            </header>
            <section class="center-container main-article__section">
                <p>
                    Sliders... we all hate them. But they remain a frequently requested thingy.
                    <a href="http://www.woothemes.com/flexslider/" target="_blank">Flexslider</a> is still my favorite choice as it comes to slider-plugins.
                    In this article I will explain a useful snippit to 'extend' your sliders functionality. That is: url-targeting.
                </p>
            </section>
            <section class="center-container main-article__section">
                <header class="main-article__section__header">
                    <h3 class="main-article__section__head">Url targeting</h3>
                </header>
                <p>
                    Sometimes it's useful that you can tell trough the url wich slide of the slider should be active. In the following example, we can append a '#slide2' to the url, and the Flexslider will start at the second slide.
                </p>
                <h4 class="main-article__section__sub">
                    Get the current url
                </h4>
                <p>
                    First, you'll need to get the current url.
                    You can use 'document.URL' for that. I prefer this one above 'window.location.href' because you only need to get the url (not set it). It's about 91% faster than window.location.href (<a href="http://jsperf.com/document-url-vs-window-location-href" target="_blank">jsperf test</a>).
                    The url will be stored in the variable 'loc'.
                </p>
<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL;
};
</code>
</pre>
                <h4 class="main-article__section__sub">
                    Filter out the slide-number
                </h4>
                <p>
                    Now you need to filter out the slide-number in the url you just retrieved. You will remove everything before the last occuring '#', including the '#' itself. You also want to remove the text 'slide'. The resulting number will be stored in the variable 'idx'.
                </p>
<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL,
        idx = 1;

    if(loc.lastIndexOf('#') !== -1) {
        idx = loc.substr(loc.lastIndexOf('#') + 1).replace('slide', '');
    }
};
</code>
</pre>
                <h4 class="main-article__section__sub">
                    Check if the value is a number
                </h4>
                <p>
                    Let's be sure that the retrieved number is an legal number. You do this with the 'isNaN' function (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN" target="_blank">more about isNaN()</a>). In the future this will be replaced by the 'Number.isNaN()' function. But the support for this new function is not quite there yet (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN?redirectlocale=en-US&am;redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FNumber%2FisNaN#Browser_compatibility" target="_blank">more about Number.isNaN()</a>).
                </p>
                <p>
<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL,
        idx = 1;

    if(loc.lastIndexOf('#') !== -1) {
        idx = loc.substr(loc.lastIndexOf('#') + 1).replace('slide', '');
    }
    if (isNaN(idx - 0)) {
        idx = 1;
    }
};
</code>
</pre>
                </p>
                <h4 class="main-article__section__sub">
                    Initialize the slider
                </h4>
                <p>
                    Now you need to initialize the Flexslider and tell it at which slide he should start at.
                    Flexslider provides you with the 'startAt' property to set the starting slide.
                    Because the first slide has the value 0, you do -1 of the value we got from the url.
                </p>
                <p>
<pre>
<code class="language-javascript">
var initSlider;

initSlider = function() {
    var loc = document.URL,
        idx = 1;

    if(loc.lastIndexOf('#') !== -1) {
        idx = loc.substr(loc.lastIndexOf('#') + 1).replace('slide', '');
    }
    if (isNaN(idx - 0)) {
        idx = 1;
    }

    idx -= 1;

    $('#slider').flexslider({
        startAt: idx
    });
};
</code>
</pre>
                </p>
            </section>
        </article>
        <section id="disqus_thread" class="center-container">
             <script>
                var disqus_shortname = 'ibevanmeenen';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
        </section>
    </main>

    <!-- Webfont -->
    <script>
        WebFontConfig={google:{families:["Gilda+Display::latin"]}},function(){var t=document.createElement("script");t.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",t.type="text/javascript",t.async="true";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();
    </script>

    <!-- JS -->
    <script async src="../vendor/prism/prism.js"></script>
    <script async src="../vendor/prism/components/prism-scss.min.js"></script>
</body>
</html>
